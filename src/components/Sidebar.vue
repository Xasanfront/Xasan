<template>
    <aside :class="`${is_expanded && 'is-expanded'}`">
        <div class="logo">
            <svg width="59" height="36" viewBox="0 0 59 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M6.68 35.576C4.58933 35.576 3.11733 35.128 2.264 34.232C1.41067 33.336 0.984 32.4187 0.984 31.48C0.984 30.8827 1.21867 30.392 1.688 30.008C2.11467 29.5813 2.584 29.368 3.096 29.368C3.69333 29.368 4.09867 29.496 4.312 29.752C4.48267 29.9653 4.568 30.2 4.568 30.456C4.568 30.7547 4.44 31.0533 4.184 31.352C3.928 31.608 3.56533 31.736 3.096 31.736C2.75467 31.736 2.47733 31.6933 2.264 31.608C2.05067 31.48 1.944 31.416 1.944 31.416C1.944 31.4587 1.96533 31.672 2.008 32.056C2.05067 32.3973 2.22133 32.7813 2.52 33.208C2.776 33.6347 3.24533 34.0187 3.928 34.36C4.568 34.7013 5.50667 34.872 6.744 34.872C8.32267 34.872 10.0507 34.4027 11.928 33.464C13.8053 32.4827 15.6827 31.2667 17.56 29.816C19.4373 28.3227 21.1867 26.7653 22.808 25.144C24.4293 23.48 25.7733 21.944 26.84 20.536C27.9493 19.0853 28.6533 17.976 28.952 17.208C28.952 17.208 29.2293 17.1867 29.784 17.144C30.3813 17.0587 30.9573 16.9947 31.512 16.952C32.0667 16.9093 32.344 16.888 32.344 16.888C32.3867 16.76 32.7493 16.2907 33.432 15.48C34.1573 14.6267 35.1173 13.5813 36.312 12.344C37.5493 11.064 38.936 9.76267 40.472 8.44C42.008 7.07467 43.6507 5.79467 45.4 4.6C47.1493 3.36267 48.8987 2.38133 50.648 1.656C52.3973 0.887998 54.0827 0.503998 55.704 0.503998C56.728 0.503998 57.432 0.695998 57.816 1.08C58.2427 1.464 58.456 1.86933 58.456 2.296C58.456 2.76533 58.3707 3.17067 58.2 3.512C58.0293 3.85333 57.7093 4.024 57.24 4.024C56.7707 4.024 56.4293 3.896 56.216 3.64C56.0453 3.34133 55.96 2.97867 55.96 2.552C55.96 2.21066 56.088 1.93333 56.344 1.72C56.6 1.464 56.728 1.336 56.728 1.336C56.5573 1.25067 56.1307 1.208 55.448 1.208C53.912 1.208 52.1413 1.69867 50.136 2.68C48.1733 3.66133 46.1253 4.94133 43.992 6.52C41.9013 8.09867 39.896 9.80533 37.976 11.64C36.056 13.432 34.4133 15.2027 33.048 16.952C31.6827 18.7013 30.744 20.1947 30.232 21.432C30.232 21.432 29.976 21.4107 29.464 21.368C28.952 21.3253 28.4187 21.304 27.864 21.304C27.352 21.2613 27.096 21.24 27.096 21.24C26.968 21.624 26.4347 22.3707 25.496 23.48C24.6 24.5467 23.4267 25.7627 21.976 27.128C20.5253 28.4933 18.9253 29.816 17.176 31.096C15.4267 32.376 13.6347 33.4427 11.8 34.296C10.008 35.1493 8.30133 35.576 6.68 35.576ZM30.168 35.576C28.1627 35.576 26.6693 35.1493 25.688 34.296C24.7493 33.4427 24.28 32.2267 24.28 30.648C24.28 29.0267 24.5787 27.3413 25.176 25.592C25.7733 23.8427 26.52 22.072 27.416 20.28C28.312 18.488 29.1867 16.6747 30.04 14.84C30.936 13.0053 31.6827 11.2133 32.28 9.464C32.8773 7.672 33.176 5.944 33.176 4.28C33.176 3.42667 32.8347 2.63733 32.152 1.912C31.4693 1.144 30.3173 0.759998 28.696 0.759998C27.544 0.759998 26.2853 1.08 24.92 1.72C23.5973 2.31733 22.2747 3.128 20.952 4.152C19.6293 5.176 18.4133 6.30666 17.304 7.544C16.1947 8.73867 15.2987 9.93333 14.616 11.128C13.976 12.3227 13.656 13.4107 13.656 14.392C13.656 15.0747 13.8053 15.5867 14.104 15.928C14.4453 16.2693 15.0427 16.44 15.896 16.44C17.2187 16.44 18.5413 16.0347 19.864 15.224C21.2293 14.4133 22.488 13.3467 23.64 12.024C24.8347 10.7013 25.88 9.272 26.776 7.736C27.7147 6.2 28.44 4.728 28.952 3.32C29.1227 2.85066 29.3147 2.63733 29.528 2.68C29.7413 2.72267 29.848 2.91467 29.848 3.256C29.848 4.536 29.4213 5.96533 28.568 7.544C27.7573 9.12267 26.648 10.6373 25.24 12.088C23.8747 13.5387 22.36 14.7333 20.696 15.672C19.032 16.6107 17.368 17.08 15.704 17.08C13.8267 17.08 12.888 16.2267 12.888 14.52C12.888 13.4107 13.2293 12.216 13.912 10.936C14.5947 9.656 15.4907 8.376 16.6 7.096C17.752 5.816 19.0107 4.664 20.376 3.64C21.784 2.57333 23.192 1.72 24.6 1.08C26.0507 0.439999 27.416 0.119999 28.696 0.119999C30.4453 0.119999 31.768 0.461332 32.664 1.144C33.6027 1.784 34.2427 2.59467 34.584 3.576C34.9253 4.55733 35.096 5.58133 35.096 6.648C35.096 8.44 34.8187 10.2533 34.264 12.088C33.7093 13.88 33.0267 15.672 32.216 17.464C31.4053 19.2133 30.5733 20.92 29.72 22.584C28.9093 24.248 28.2267 25.848 27.672 27.384C27.1173 28.92 26.84 30.3493 26.84 31.672C26.84 32.7387 27.1813 33.5493 27.864 34.104C28.5467 34.6587 29.3787 34.936 30.36 34.936C31.6827 34.936 33.0907 34.5733 34.584 33.848C36.12 33.1227 37.5493 32.1413 38.872 30.904C40.2373 29.624 41.3467 28.152 42.2 26.488C43.0533 24.824 43.48 23.0533 43.48 21.176C43.48 20.4507 43.2027 19.7253 42.648 19C42.136 18.2747 41.3893 17.912 40.408 17.912C39.64 17.912 38.9147 18.1893 38.232 18.744C37.592 19.256 37.0587 19.8747 36.632 20.6C36.248 21.3253 36.056 21.9867 36.056 22.584C36.056 23.5227 36.2053 24.1413 36.504 24.44C36.8453 24.696 37.0587 24.9307 37.144 25.144C37.2293 25.272 37.208 25.464 37.08 25.72C36.9947 25.9333 36.76 25.9547 36.376 25.784C35.48 25.4 35.032 24.376 35.032 22.712C35.032 22.0293 35.2667 21.2827 35.736 20.472C36.248 19.6187 36.9093 18.8933 37.72 18.296C38.5733 17.656 39.4693 17.336 40.408 17.336C41.6453 17.336 42.6053 17.6987 43.288 18.424C44.0133 19.1493 44.376 20.0667 44.376 21.176C44.376 23.0107 43.9493 24.8027 43.096 26.552C42.2427 28.2587 41.112 29.7947 39.704 31.16C38.296 32.5253 36.76 33.6133 35.096 34.424C33.432 35.192 31.7893 35.576 30.168 35.576Z"
                    fill="white"></path>
            </svg>
        </div>
        <div class="menu-toggle-wrap">
            <button class="menu-toggle" @click="ToggleMenu">
                <span class="material-icons">keyboard_double_arrow_right</span>
            </button>
        </div>
        <h3>Menu</h3>
        <div class="menu">
            <router-link to="/" class="button">
                <span class="material-icons">home</span>
                <span class="text">Home</span>
            </router-link>
            <router-link to="/about" class="button">
                <span class="material-icons">visibility</span>
                <span class="text">About</span>
            </router-link>
          
            <router-link to="/call" class="button">
                <span class="material-icons">call</span>
                <span class="text">Contact</span>
            </router-link>

        </div>
    </aside>
</template>
<script setup>
import { ref } from 'vue'

const is_expanded = ref(localStorage.getItem("is_expanded") === "true")

const ToggleMenu = () => {
    is_expanded.value = !is_expanded.value
    localStorage.setItem("is_expanded", is_expanded.value)
}

</script>
<style lang="scss" scoped>
aside {
    display: flex;
    flex-direction: column;
    background-color: var(--dark);
    color: var(--ligth);

    width: calc(2rem + 32px);
    min-height: 100vh;
    padding: 1rem;
    transition: 0.2s ease-out;
    overflow: hidden;

    @media (max-width:768px) {
        position: fixed;
        z-index: 99;
    }

    .logo {
        display: flex;
        align-items: center;


        img {
            width: 2rem;
        }
    }

    .menu-toggle-wrap {
        display: flex;
        justify-content: flex-end;
        margin-bottom: 1rem;

        position: relative;
        top: 0;
        transition: 0.2s ease-out;

        .menu-toggle {
            transition: 0.2s ease-out;

            .material-icons {
                font-size: 2rem;
                color: var(--ligth);
                transition: 0.2s ease-out;
            }

            &:hover {
                .material-icons {
                    color: var(--primary);
                    transform: translateX(0.5rem);
                }
            }
        }
    }

    h3,
    .button .text {
        opacity: 0;
        transition: 0.3s ease-out;
    }
    h3{
        color: var(--grey);
        font-size: 0.875rem;
        margin-bottom: 0.5rem;
        text-transform: uppercase;
    }

    .menu {
        margin: 0 -1rem;

        .button {
            display: flex;
            align-items: center;
            text-decoration: none;

            padding: 1.5rem 1rem;
            transition: 0.2s ease-out;

            .material-icons {
                font-size: 2rem;
                color: var(--ligth);
                transition: 0.2s ease-out;
               
            }

            .text {
                color: var(--ligth);
                transition: 0.2s ease-out;
            }
            &:hover , &.router-link-exact-active {
                background-color: var(--dark-alt);
            .material-icons, .text{
                color: var(--primary);
            }
           }
            &.router-link-exact-active{
                border-right: 5px solid var(--primary);
            }
        }
    }

    &.is-expanded {
        width: var(--sidebar-width);

        .menu-toggle-wrap {
            top: -3rem;

            .menu-toggle {
                transform: rotate(-180deg);
            }
        }

        h3,
        .button .text {
            opacity: 1;
        }
        .button{
            .material-icons{
                 margin-right: 1rem;
            }
        }

    }

    @media (max-width: 768px) {
        position: fixed;
        z-index: 99;
    }
}


</style>